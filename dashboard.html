<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="icon" href="images/kalpalogo.png" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KalpaVision - Dashboard</title>
    <link rel="stylesheet" href="styling/dashboard-styles.css">
    <script type="module">
        // Import Firebase SDKs
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js';
        import { getAuth, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.1.3/firebase-auth.js';

        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDCq3AQBhQS84rc-WLI2HmOEyyeWdE7IQY",
            authDomain: "sangeetprerak.firebaseapp.com",
            projectId: "sangeetprerak",
            storageBucket: "sangeetprerak.appspot.com",
            messagingSenderId: "706155043243",
            appId: "1:706155043243:web:35441ef3289bdcfa56daee",
            measurementId: "G-GYNVV49467"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        document.addEventListener('DOMContentLoaded', () => {
            // Check the authentication state
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    // User is signed in
                    document.getElementById('username').textContent = user.email;
                } else {
                    // No user is signed in
                    window.location.href = 'index.html'; // Redirect to login page
                }
            });

            // Add event listener for logout button
            document.getElementById('logout-button').addEventListener('click', async () => {
                try {
                    console.log('Attempting to sign out...');
                    await signOut(auth);
                    console.log('Sign out successful');
                    window.location.href = 'index.html'; // Redirect to login page after logout
                } catch (error) {
                    console.error('Error signing out: ', error);
                }
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            const modelCards = document.querySelectorAll('.model-card');
            modelCards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('show');
                }, index * 200); // Stagger the animation
            });

            // Show username after a delay
            setTimeout(() => {
                document.getElementById('username').classList.add('show');
            }, 1000);
        });
    </script>
</head>
<body>
    <header>
        <div class="container">
            <img src="images/kalpalogo.png" alt="KalpaVision Logo" class="logo">
            
            <div class="header-right">
                <span id="username">Loading...</span>
                <button id="logout-button">Logout</button>
            </div>
        </div>
    </header>
    

    <main>
        <div class="container">
            <section class="model-preview">
                <h2>AI Models</h2>
                <div class="model-card">
                    <img src="images/text-to-image.png" alt="Text-to-Image" class="model-image">
                    <h3>Text-to-Image</h3>
                    <p>Generate images from textual descriptions with our Text-to-Image model.</p>
                    <a href="https://text-to-image-v8te.onrender.com" target="_blank" class="button">Try it Now</a>
                </div>
                <div class="model-card">
                    <img src="images/text-to-music.png" alt="Text-to-Music" class="model-image">
                    <h3>Text-to-Music</h3>
                    <p>Create music from text descriptions with our Text-to-Music model.</p>
                    <a href="https://sangeetprerak.netlify.app/" target="_blank" class="button">Try it Now</a>
                </div>
                <div class="model-card">
                    <img src="images/text-to-speech.png" alt="Text-to-Speech" class="model-image">
                    <h3>Text-to-Speech</h3>
                    <p>Convert text to speech with our Text-to-Speech model.</p>
                    <a href="https://vocalizeio.netlify.app/" target="_blank" class="button">Try it Now</a>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h3>About Us</h3>
                <p>KalpaVision is an AI hub providing access to state-of-the-art AI models for text-to-image, text-to-music, and text-to-speech tasks. Explore the future of AI with us!</p>
            </div>
            <div class="footer-section">
                <h3>Contact</h3>
                <p>Email: iamdevdeepanshu@gmail.com</p>
            </div>
            <div class="footer-section">
                <img src="images/kalpalogo.png" alt="KalpaVision Logo" class="footer-logo">
                <h3>Follow Me</h3>
                <div class="social-media-links">
                    <a href="https://github.com/prog-deepanshu" target="_blank">Github</a>
                    <a href="https://instagram.com/iam._.deepanshu" target="_blank">Instagram</a>
                    <a href="https://linkedin.com/in/devdeepanshu" target="_blank">LinkedIn</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Deepanshu Jha. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>
